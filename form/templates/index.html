<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Latest compiled and minified CSS  and javascript -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
          integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
            integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
            crossorigin="anonymous"></script>
    <script>
        function go_delete(id) {
            var pwd = document.getElementById("pwd").value;
            if (pwd != "") {
                var usr = '/' + id + '/' + pwd;
                window.location = usr;
            }
            else {
                alert("输入删帖密码后才可以删除帖子哦");
            }
        }
    </script>
    <meta charset="UTF-8">
    <title>index</title>
    <style>
        *{
            margin: 0;
            padding:0;
        }
        #nav{/*置父容器高度，宽度，背景颜色，容器水平居中*/
            background: #eee;
            width: 200px;
            height: 40px;
            margin: 0 auto;
        }
        #nav ul{/*去掉点点*/
            list-style: none;
        }
        #nav  ul li{/*每一个li左浮动形成横排，高度占满父容器形成文字垂直居中，文字水平居中*/
            float: left;
            line-height: 40px;
            text-align: center;
            position: relative;/*给子ul定位用的*/
        }
        #nav  ul li a{/*去下下划线,变成块状继承父容器高度，左右撑开*/
            text-decoration: none;
            color:#000;
            padding:0 10px;
            display: block;
        }
        #nav  ul li a:hover{
            color: #fff;
            background-color: #666;
        }
        #nav  ul li ul {
            position: absolute;/*相对于父li的位置进行定位*/
            left: 0;
            top:40px;
            display: none;/*隐藏下拉菜单*/
        }
        #nav  ul li ul li{
            float: none;
            background-color:red;
        }
        #nav  ul li:hover ul{
            display: block;
        }
    </style>
</head>
<body>
<center>
    <h3 style="font-family: 'Microsoft YaHei';font-size: x-large;color: lightskyblue;
    font-style: normal">
        心情社区</h3>
</center>
<div id="nav">
    <ul>
        <li><a href="/">home</a></li>
        <li><a href="/admin">后台管理</a>
        </li>
    </ul>
</div>
{% if message %}
    <div class="alert alert-warning">
        {{ message }}
    </div>
{% endif %}
<div style="margin: 30pt">
    <form name="my_form" action="/" method="get">
        <h3 style="font-family: 'PingFang SC';color: coral">现在的心情:</h3>
        {% for m in moods %}
            <input type="radio" name="mood" value="{{ m.status }}"> {{ m.status }}
        {% endfor %}<br>
        <label style="font-family: Verdana;color: tan">心情留言板:</label><br>
        <textarea name="content" rows="3" cols="70"> </textarea><br>
        <label>您的昵称:</label>
        <input type="text" name="nickname">
        <label >发帖/删帖密码:</label>
        <input type="password" name="pwd" id="pwd"><br>
        <input type="submit" value="发帖">
        <input type="reset" value="清空重填">
    </form>
</div>
<div style="">
    <div class="col-md-12">
        <div class="panel panel-default" align="center">
            <h3 style="float: inherit;color: chocolate"><p>~~宝宝心里苦，宝宝只在这里说(๑•́ωก̀๑)~~~</p></h3>
        </div>
    </div>
    {% for p in posts %}
        <div style="margin: 30pt;background-color: lightgray">
            <div style="font-family: 'Microsoft YaHei UI Light';">[ {{ p.nickname }} ] 觉得 {{ p.mood.status }}</div>
            <div style="float: left; color: darkblue">{{ p.message | linebreaks }}</div>
            <div  align="left" style="margin: 10pt;font-style: oblique;color: floralwhite">
                <p>{{ p.pub_date }}&nbsp;&nbsp;
                    <span onclick="go_delete({{ p.id }})"><input type="button" value="删帖"></span>
                </p>
            </div>
        </div>
        </div>
    {% endfor %}
</div>
</body>
</html>